{"ast":null,"code":"import _toConsumableArray from\"/Users/donromaniello/Code/JavaScript/tidey/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";var drawVisualizer=function drawVisualizer(harcon,canvasName,colorRange){var canvasSize=arguments.length>3&&arguments[3]!==undefined?arguments[3]:[500,500];var loopCallback=arguments.length>4?arguments[4]:undefined;// Record the initial time so the delta can be calculated later\nvar timeSubtract=new Date().getTime();// The amplitude indicators on the harmonics are called beads\nvar callbackMessages=loopCallback();var beadSize=2;var mainSpeed=1;var frameRate=60;var axesStrokeColor='rgba(128, 128, 128, 1)';var beadColor='rgba(255, 0, 0, 1)';var wavePrecision=20;// How smooth the tide chart curves should be\nvar constituents=_toConsumableArray(harcon);constituents.sort(function(a,b){return b.amplitude-a.amplitude;});constituents=constituents.slice(0,callbackMessages.numOfConstituents);var width=canvasSize[0];var height=canvasSize[1];// This is how much to scale by\nvar scale=constituents.map(function(a){return a.amplitude;}).reduce(function(a,b){return a+b;});var unit=height/2/scale;var timeSeriesChords=[];var timeSeriesCounter=0;// declare a lot of variables that should not be redeclared each time\nvar canvas,ctx,featureFillColor,featureStrokeColor,xAxis,yAxis,nextXCenter,nextYCenter,timeSeriesLength;var emptyFunction=function emptyFunction(){};var init=function init(){// this may change, will revisit\ncanvas=document.getElementById(canvasName);canvas.width=canvasSize[0];canvas.height=canvasSize[1];ctx=canvas.getContext(\"2d\");ctx.lineJoin='round';xAxis=Math.floor(height/2);yAxis=Math.floor(width/4-scale);timeSeriesLength=width-yAxis;populateTimeSeries(timeSeriesLength,emptyFunction);ctx.save();window.requestAnimationFrame(draw);};var draw=function draw(){var time=new Date();nextXCenter=yAxis;nextYCenter=xAxis;ctx.clearRect(0,0,width,height);// Draw the axes in their own path\nctx.strokeStyle=axesStrokeColor;ctx.beginPath();drawAxes();// Set styles for animated graphics\nctx.save();ctx.strokeStyle=featureStrokeColor;ctx.fillStyle=featureFillColor;ctx.lineWidth=1;// Update the time and draw again\ndraw.t=(time-timeSubtract)/(100000/mainSpeed);runThroughConstituents(draw.t*Math.PI,drawEpicycles);drawTideChart();drawArrow();drawBead();ctx.restore();callbackMessages=loopCallback();if(callbackMessages.continue){setTimeout(draw,1000/frameRate);}};var runThroughConstituents=function runThroughConstituents(time,drawFunction){constituents.forEach(function(constituent,idx){var radius=Math.floor(constituent.amplitude*unit);drawFunction(radius,idx);getLocationOnCircle(time,radius,constituent);timeSeriesCounter++;if(idx==constituents.length-1&&timeSeriesCounter%wavePrecision==0){timeSeriesChords=[].concat(_toConsumableArray(timeSeriesChords),[nextYCenter]).slice(-timeSeriesLength);}});};var getRadians=function getRadians(angle){return angle*(Math.PI/180);};var getSteppedColor=function getSteppedColor(idx){var degreeB=idx/callbackMessages.numOfConstituents;var degreeA=1-degreeB;var r=colorRange.start.r*degreeA+colorRange.end.r*degreeB;var g=colorRange.start.g*degreeA+colorRange.end.g*degreeB;var b=colorRange.start.b*degreeA+colorRange.end.b*degreeB;return{r:r,g:g,b:b};};var getLocationOnCircle=function getLocationOnCircle(time,radius,constituent){var nextCenters=getPhasedXY(time,radius,constituent);nextXCenter=nextCenters[0];nextYCenter=nextCenters[1];};var getPhasedXY=function getPhasedXY(time,radius,constituent){var phase_GMT=constituent.phase_GMT,speed=constituent.speed;var phase=phase_GMT;var phaseX=nextXCenter+radius*Math.sin((time+getRadians(phase))*speed);var phaseY=nextYCenter+radius*Math.cos((time+getRadians(phase))*speed);return[phaseX,phaseY];};var populateTimeSeries=function populateTimeSeries(timeSeriesLength){for(var i=0;i<timeSeriesLength;i++){runThroughConstituents(i,emptyFunction);timeSeriesChords.push(nextYCenter);}};// Drawing functions\nvar drawArrow=function drawArrow(){ctx.beginPath();ctx.setLineDash([5,10]);ctx.moveTo(yAxis,nextYCenter);ctx.lineTo(nextXCenter,nextYCenter);ctx.stroke();};var drawBead=function drawBead(){ctx.beginPath();ctx.strokeStyle=beadColor;ctx.fillStyle=beadColor;ctx.arc(nextXCenter,nextYCenter,beadSize,0,2*Math.PI,false);ctx.fill();ctx.stroke();ctx.strokeStyle=featureStrokeColor;// restore color\n};var drawEpicycles=function drawEpicycles(radius,idx){var baseColor=getSteppedColor(idx);ctx.strokeStyle=\"rgba(\".concat(baseColor.r,\", \").concat(baseColor.g,\", \").concat(baseColor.b,\", 1)\");ctx.fillStyle=\"rgba(\".concat(baseColor.r,\", \").concat(baseColor.g,\", \").concat(baseColor.b,\", .2)\");ctx.beginPath();ctx.arc(nextXCenter,nextYCenter,radius,0,2*Math.PI,false);// ctx.fill();\nctx.stroke();};function drawTideChart(){ctx.beginPath();ctx.moveTo(width,timeSeriesChords[0]);timeSeriesChords.slice(1).forEach(function(yCoordinate,idx){ctx.lineTo(width-(idx+1),yCoordinate);});ctx.stroke();}var drawAxes=function drawAxes(){// Draw X and Y axes\nctx.strokeStyle=axesStrokeColor;// ctx.moveTo(0, xAxis);\n// ctx.lineTo(width, xAxis);\n// ctx.moveTo(yAxis, 0);\n// ctx.lineTo(yAxis, height);\nctx.stroke();};init();};export default drawVisualizer;","map":{"version":3,"names":["drawVisualizer","harcon","canvasName","colorRange","canvasSize","loopCallback","timeSubtract","Date","getTime","callbackMessages","beadSize","mainSpeed","frameRate","axesStrokeColor","beadColor","wavePrecision","constituents","sort","a","b","amplitude","slice","numOfConstituents","width","height","scale","map","reduce","unit","timeSeriesChords","timeSeriesCounter","canvas","ctx","featureFillColor","featureStrokeColor","xAxis","yAxis","nextXCenter","nextYCenter","timeSeriesLength","emptyFunction","init","document","getElementById","getContext","lineJoin","Math","floor","populateTimeSeries","save","window","requestAnimationFrame","draw","time","clearRect","strokeStyle","beginPath","drawAxes","fillStyle","lineWidth","t","runThroughConstituents","PI","drawEpicycles","drawTideChart","drawArrow","drawBead","restore","continue","setTimeout","drawFunction","forEach","constituent","idx","radius","getLocationOnCircle","length","getRadians","angle","getSteppedColor","degreeB","degreeA","r","start","end","g","nextCenters","getPhasedXY","phase_GMT","speed","phase","phaseX","sin","phaseY","cos","i","push","setLineDash","moveTo","lineTo","stroke","arc","fill","baseColor","yCoordinate"],"sources":["/Users/donromaniello/Code/JavaScript/tidey/src/components/modules/drawHarmonicConstituents.js"],"sourcesContent":["\nconst drawVisualizer = (harcon,\n  canvasName,\n  colorRange,\n    canvasSize = [500, 500],\n    loopCallback) => {\n// Record the initial time so the delta can be calculated later\nconst timeSubtract = new Date().getTime()\n// The amplitude indicators on the harmonics are called beads\nlet callbackMessages = loopCallback()\nconst beadSize = 2\nconst mainSpeed = 1\nconst frameRate = 60\nconst axesStrokeColor = 'rgba(128, 128, 128, 1)'\nconst beadColor = 'rgba(255, 0, 0, 1)'\nconst wavePrecision = 20 // How smooth the tide chart curves should be\nlet constituents = [...harcon]\nconstituents.sort((a, b) => b.amplitude - a.amplitude)\nconstituents = constituents.slice(0, callbackMessages.numOfConstituents)\nlet width = canvasSize[0]\nlet height = canvasSize[1]\n// This is how much to scale by\nconst scale = constituents.map((a) => a.amplitude).reduce((a, b) => a + b)\n\nconst unit = ((height / 2) / scale)\n\nlet timeSeriesChords = []\n\nlet timeSeriesCounter = 0\n\n// declare a lot of variables that should not be redeclared each time\nlet canvas, ctx, featureFillColor, featureStrokeColor, xAxis, yAxis,\n   nextXCenter, nextYCenter, timeSeriesLength;\n\nconst emptyFunction = () => {\n}\n\nconst init = () => {\n  // this may change, will revisit\n  canvas = document.getElementById(canvasName);\n\n  canvas.width = canvasSize[0];\n  canvas.height = canvasSize[1];\n\n  ctx = canvas.getContext(\"2d\");\n  ctx.lineJoin = 'round';\n\n  xAxis = Math.floor(height/2);\n  yAxis = Math.floor(width/4 - scale);\n\n  timeSeriesLength = ((width - yAxis))\n\n  populateTimeSeries(timeSeriesLength, emptyFunction)\n\n  ctx.save();\n\n  window.requestAnimationFrame(draw);\n}\n\nconst draw = () => {\n\n  const time = new Date()\n\n  nextXCenter = yAxis\n  nextYCenter = xAxis\n\n  ctx.clearRect(0, 0, width, height);\n\n  // Draw the axes in their own path\n  ctx.strokeStyle = axesStrokeColor;\n  ctx.beginPath();\n  drawAxes();\n\n  // Set styles for animated graphics\n  ctx.save();\n  ctx.strokeStyle = featureStrokeColor;\n  ctx.fillStyle = featureFillColor;\n  ctx.lineWidth = 1;\n\n  // Update the time and draw again\n  draw.t = (time - timeSubtract) / (100000 / mainSpeed);\n  runThroughConstituents(draw.t * Math.PI, drawEpicycles)\n  drawTideChart();\n  drawArrow();\n  drawBead()\n  ctx.restore();\n\n  callbackMessages = loopCallback()\n\n  if (callbackMessages.continue){\n    setTimeout(draw, (1000 / frameRate));\n  }\n\n}\n\nconst runThroughConstituents = (time, drawFunction) => {\n  constituents.forEach((constituent, idx) => {\n    const radius = Math.floor(constituent.amplitude * unit)\n    drawFunction(radius, idx)\n    getLocationOnCircle(time, radius, constituent)\n    timeSeriesCounter++;\n    if (idx == (constituents.length - 1) && (timeSeriesCounter % wavePrecision == 0)) {\n      timeSeriesChords = [...timeSeriesChords, nextYCenter].slice(-timeSeriesLength)\n    }\n  })\n}\n\nconst getRadians = (angle) => {\n  return (angle * (Math.PI / 180))\n}\n\nconst getSteppedColor = (idx) => {\n  let degreeB = idx / callbackMessages.numOfConstituents\n  let degreeA = 1 - degreeB\n  let r = (colorRange.start.r * degreeA) + (colorRange.end.r * degreeB)\n  let g = (colorRange.start.g * degreeA) + (colorRange.end.g * degreeB)\n  let b = (colorRange.start.b * degreeA) + (colorRange.end.b * degreeB)\n  return { r, g, b}\n}\n\n\nconst getLocationOnCircle = (time, radius, constituent) => {\n  let nextCenters = getPhasedXY(time, radius, constituent)\n  nextXCenter = nextCenters[0]\n  nextYCenter = nextCenters[1]\n}\n\nconst getPhasedXY = (time, radius, constituent) => {\n  const { phase_GMT, speed} = constituent\n  let phase = phase_GMT\n  let phaseX = nextXCenter + (radius * Math.sin(((time + getRadians(phase)) * speed)))\n  let phaseY = nextYCenter + (radius * Math.cos(((time + getRadians(phase)) * speed)))\n  return [phaseX, phaseY]\n}\n\nconst populateTimeSeries = (timeSeriesLength) => {\n  for (let i = 0; i < timeSeriesLength; i++) {\n    runThroughConstituents(i, emptyFunction)\n    timeSeriesChords.push(nextYCenter)\n  }\n}\n\n// Drawing functions\nconst drawArrow = () => {\n  ctx.beginPath()\n  ctx.setLineDash([5, 10]);\n  ctx.moveTo(yAxis, nextYCenter)\n  ctx.lineTo(nextXCenter, nextYCenter)\n  ctx.stroke()\n}\n\nconst drawBead = () => {\n  ctx.beginPath()\n      ctx.strokeStyle = beadColor;\n      ctx.fillStyle = beadColor;\n      ctx.arc(nextXCenter, nextYCenter, beadSize, 0, 2 * Math.PI, false);\n      ctx.fill();\n      ctx.stroke();\n      ctx.strokeStyle = featureStrokeColor; // restore color\n}\n\n\nconst drawEpicycles = (radius, idx) => {\n  let baseColor = getSteppedColor(idx)\n  ctx.strokeStyle = `rgba(${baseColor.r}, ${baseColor.g}, ${baseColor.b}, 1)`\n  ctx.fillStyle = `rgba(${baseColor.r}, ${baseColor.g}, ${baseColor.b}, .2)`\n  ctx.beginPath()\n  ctx.arc(nextXCenter, nextYCenter, radius, 0, 2 * Math.PI, false);\n  // ctx.fill();\n  ctx.stroke();\n}\n\nfunction drawTideChart() {\n  ctx.beginPath();\n  ctx.moveTo(width, timeSeriesChords[0]);\n  timeSeriesChords.slice(1).forEach((yCoordinate, idx) => {\n      ctx.lineTo((width - ((idx + 1))), yCoordinate);\n  })\n  ctx.stroke();\n}\n\n\nconst drawAxes = () => {\n  // Draw X and Y axes\n  ctx.strokeStyle = axesStrokeColor;\n  // ctx.moveTo(0, xAxis);\n  // ctx.lineTo(width, xAxis);\n  // ctx.moveTo(yAxis, 0);\n  // ctx.lineTo(yAxis, height);\n  ctx.stroke();\n}\n\ninit()\n\n}\n\n\n\nexport default drawVisualizer\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}