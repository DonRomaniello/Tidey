{"ast":null,"code":"import React,{useState,useEffect}from'react';import{MapContainer,TileLayer,useMap}from'react-leaflet';import{useSelector,useDispatch}from'react-redux';import timeIndex,{increment}from'../store/features/timeIndex';import Station from'./Station';// import leaflet-pro css\nimport\"leaflet/dist/leaflet.css\";import\"./css/timeMarker.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ReactLeaflet=function ReactLeaflet(props){var dispatch=useDispatch();var stations=props.stations;var position=[40.778041,-73.921264];var timeIndex=useSelector(function(state){return state.timeIndex.value;});useEffect(function(){var delayedIncrement=function delayedIncrement(){dispatch(increment(stations[0].predictions.length));setTimeout(delayedIncrement,100);};delayedIncrement();},[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(MapContainer,{center:position,zoom:8,scrollWheelZoom:true,style:styling,children:[/*#__PURE__*/_jsx(TileLayer,{url:\"https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg\",attribution:\"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors | Map tiles by <a href=\\\"http://stamen.com\\\">Stamen Design</a>, under <a href=\\\"http://creativecommons.org/licenses/by/3.0\\\">CC BY 3.0</a>. Data by <a href=\\\"http://openstreetmap.org\\\">OpenStreetMap</a>, under <a href=\\\"http://creativecommons.org/licenses/by-sa/3.0\\\">CC BY SA</a>.\"}),stations.map(function(stationInfo,idx){if(stationInfo.lat&stationInfo.lng&stationInfo.id){return/*#__PURE__*/_jsx(Station,{stationInfo:stationInfo},stationInfo.id+idx);}return null;})]})});};export default ReactLeaflet;var styling={display:'flex',height:'calc(100vh - 100px)',width:'calc(100vw - 100px)',// margin\njustifyContent:'center',alignItems:'center',borderRadius:'10px'};","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","useMap","useSelector","useDispatch","timeIndex","increment","Station","ReactLeaflet","props","dispatch","stations","position","state","value","delayedIncrement","predictions","length","setTimeout","styling","map","stationInfo","idx","lat","lng","id","display","height","width","justifyContent","alignItems","borderRadius"],"sources":["/Users/donromaniello/Code/JavaScript/tidey/src/components/Map.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\nimport {\n  MapContainer,\n  TileLayer,\n  useMap,\n} from 'react-leaflet'\n\nimport { useSelector, useDispatch } from 'react-redux'\n\nimport timeIndex, {\n  increment,\n} from '../store/features/timeIndex'\n\nimport Station from './Station';\n\n// import leaflet-pro css\nimport \"leaflet/dist/leaflet.css\";\n\nimport \"./css/timeMarker.css\";\n\nconst ReactLeaflet = (props) => {\n\n  const dispatch = useDispatch();\n\n  const { stations } = props;\n\n  const position = [40.778041, -73.921264]\n\n  const timeIndex = useSelector((state) => state.timeIndex.value)\n\n  useEffect(() => {\n    const delayedIncrement = () => {\n      dispatch(increment(stations[0].predictions.length))\n      setTimeout(delayedIncrement, 100)\n    }\n\n    delayedIncrement();\n  }, [])\n\n  return (\n    <>\n    <MapContainer\n    center={position}\n    zoom={8}\n    scrollWheelZoom={true}\n    style={styling}>\n      <TileLayer\n        url=\"https://stamen-tiles-{s}.a.ssl.fastly.net/watercolor/{z}/{x}/{y}.jpg\"\n        attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors |\n        Map tiles by <a href=\"http://stamen.com\">Stamen Design</a>, under <a href=\"http://creativecommons.org/licenses/by/3.0\">CC BY 3.0</a>. Data by <a href=\"http://openstreetmap.org\">OpenStreetMap</a>, under <a href=\"http://creativecommons.org/licenses/by-sa/3.0\">CC BY SA</a>.'\n        />\n      {stations.map((stationInfo, idx) => {\n        if (stationInfo.lat & stationInfo.lng & stationInfo.id) {\n          return <Station\n                  key={stationInfo.id + idx}\n                  stationInfo={stationInfo}\n                  />\n            }\n          return null\n\n      })}\n  </MapContainer>\n  {/* <div className='svgStyling'>\n  <svg viewBox=\"0 0 100 100\" xmlns=\"http://www.w3.org/2000/svg\">\n    <path fill=\"none\" stroke=\"lightgrey\"\n      d=\"M0,0 h100 v100 h-100 z\" />\n    <circle r=\"5\" fill=\"red\">\n      <animateMotion dur=\"10s\" repeatCount=\"indefinite\"\n        path=\"M0,0 h100 v100 h-100 z\" />\n    </circle>\n  </svg>\n  </div> */}\n</>\n)\n}\n\nexport default ReactLeaflet\n\nconst styling = {\n  display: 'flex',\n  height: 'calc(100vh - 100px)',\n  width: 'calc(100vw - 100px)',\n  // margin\n  justifyContent: 'center',\n  alignItems: 'center',\n  borderRadius:'10px',\n}\n"],"mappings":"AAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CAEA,OACEC,YADF,CAEEC,SAFF,CAGEC,MAHF,KAIO,eAJP,CAMA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CAEA,MAAOC,UAAP,EACEC,SADF,KAEO,6BAFP,CAIA,MAAOC,QAAP,KAAoB,WAApB,CAEA;AACA,MAAO,0BAAP,CAEA,MAAO,sBAAP,C,6IAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,KAAD,CAAW,CAE9B,GAAMC,SAAQ,CAAGN,WAAW,EAA5B,CAEA,GAAQO,SAAR,CAAqBF,KAArB,CAAQE,QAAR,CAEA,GAAMC,SAAQ,CAAG,CAAC,SAAD,CAAY,CAAC,SAAb,CAAjB,CAEA,GAAMP,UAAS,CAAGF,WAAW,CAAC,SAACU,KAAD,QAAWA,MAAK,CAACR,SAAN,CAAgBS,KAA3B,EAAD,CAA7B,CAEAf,SAAS,CAAC,UAAM,CACd,GAAMgB,iBAAgB,CAAG,QAAnBA,iBAAmB,EAAM,CAC7BL,QAAQ,CAACJ,SAAS,CAACK,QAAQ,CAAC,CAAD,CAAR,CAAYK,WAAZ,CAAwBC,MAAzB,CAAV,CAAR,CACAC,UAAU,CAACH,gBAAD,CAAmB,GAAnB,CAAV,CACD,CAHD,CAKAA,gBAAgB,GACjB,CAPQ,CAON,EAPM,CAAT,CASA,mBACE,sCACA,MAAC,YAAD,EACA,MAAM,CAAEH,QADR,CAEA,IAAI,CAAE,CAFN,CAGA,eAAe,CAAE,IAHjB,CAIA,KAAK,CAAEO,OAJP,wBAKE,KAAC,SAAD,EACE,GAAG,CAAC,sEADN,CAEE,WAAW,CAAC,mXAFd,EALF,CAUGR,QAAQ,CAACS,GAAT,CAAa,SAACC,WAAD,CAAcC,GAAd,CAAsB,CAClC,GAAID,WAAW,CAACE,GAAZ,CAAkBF,WAAW,CAACG,GAA9B,CAAoCH,WAAW,CAACI,EAApD,CAAwD,CACtD,mBAAO,KAAC,OAAD,EAEC,WAAW,CAAEJ,WAFd,EACMA,WAAW,CAACI,EAAZ,CAAiBH,GADvB,CAAP,CAIG,CACH,MAAO,KAAP,CAEH,CATA,CAVH,GADA,EADF,CAmCD,CAtDD,CAwDA,cAAed,aAAf,CAEA,GAAMW,QAAO,CAAG,CACdO,OAAO,CAAE,MADK,CAEdC,MAAM,CAAE,qBAFM,CAGdC,KAAK,CAAE,qBAHO,CAId;AACAC,cAAc,CAAE,QALF,CAMdC,UAAU,CAAE,QANE,CAOdC,YAAY,CAAC,MAPC,CAAhB"},"metadata":{},"sourceType":"module"}